"use strict";(self.webpackChunkaston_app=self.webpackChunkaston_app||[]).push([[151],{7047:(e,a,s)=>{s.d(a,{Z:()=>f});var r=s(5475);const i={card:"Card_card__nHCKW",head:"Card_head__P+48E",body:"Card_body__Ouj+e",btnWrap:"Card_btnWrap__dYi9S",status:"Card_status__0HipY",indicator:"Card_indicator__Urh8x",Alive:"Card_Alive__096Lt",Dead:"Card_Dead__jLnrR",unknown:"Card_unknown__c1cTY",propWrapper:"Card_propWrapper__7VraL",propTitle:"Card_propTitle__cR4JB",onLoading:"Card_onLoading__8aHTh",anim:"Card_anim__o4ZSo"};var n=s(8387),t=s(5043),o=s(579);const l=()=>(0,o.jsx)("svg",{width:"50px",height:"50px",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M25 39.7l-.6-.5C11.5 28.7 8 25 8 19c0-5 4-9 9-9 4.1 0 6.4 2.3 8 4.1 1.6-1.8 3.9-4.1 8-4.1 5 0 9 4 9 9 0 6-3.5 9.7-16.4 20.2l-.6.5zM17 12c-3.9 0-7 3.1-7 7 0 5.1 3.2 8.5 15 18.1 11.8-9.6 15-13 15-18.1 0-3.9-3.1-7-7-7-3.5 0-5.4 2.1-6.9 3.8L25 17.1l-1.1-1.3C22.4 14.1 20.5 12 17 12z"})}),d="FavButton_btn__kajDu",c="FavButton_inFavr__XqBeO",p="FavButton_disabled__kfwut",_=e=>{let{isInFavorite:a,onTogleFavorite:s,disabled:r}=e;return(0,o.jsx)("button",{onClick:s,disabled:r,className:(0,n.A)(d,a?c:"",r?p:""),children:(0,o.jsx)(l,{})})};var g=s(7043),m=s(7359),h=s(7461),u=s(145);const v=()=>{const[e,a]=(0,t.useState)(!1);return{isOpen:e,onToggleModal:(0,t.useCallback)((()=>{a((e=>!e))}),[])}},j=e=>{const a=(0,g.GV)(h.lo),s=(0,g.GV)(h.jH),r=(0,g.GV)(h.lp),i=(0,g.GV)(h.rB),{isOpen:n,onToggleModal:o}=v(),l=(0,g.jL)(),d=(0,t.useMemo)((()=>!(!s||!s.find((a=>a===e.toString())))),[s,e]),c=(0,t.useCallback)((()=>{a?d?(l((0,m.Fy)({uid:a,cardId:e})),(0,u.hf)()):(l((0,m.xF)({uid:a,cardId:e})),(0,u.fv)()):o()}),[a,l,e,d,o]);return{favorite:{isInfavorite:d,onTogleFavorite:c,isLoading:r,isError:i},modal:{isModalOpen:n,onToggleModal:o}}};var x=s(9095),N=s(3613);const b="Modal_DialogOverlay__lum+3",C="Modal_DialogContent__BCppm",w=e=>{let{isOpen:a,toggleModal:s}=e;return(0,o.jsx)(x.bL,{open:a,onOpenChange:s,children:(0,o.jsxs)(x.ZL,{children:[(0,o.jsx)(x.hJ,{className:b}),(0,o.jsx)(x.UC,{className:C,children:(0,o.jsx)(N.b,{toggleModal:s})})]})})},f=e=>{let{name:a,status:s,gender:t,location:l,image:d,id:c}=e;const{favorite:p,modal:g}=j(c);return(0,o.jsxs)("div",{className:i.card,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(r.N_,{to:"/".concat(c),children:(0,o.jsx)("img",{src:d,alt:"character"})}),(0,o.jsxs)("div",{className:i.head,children:[(0,o.jsxs)("div",{className:i.propWrapper,children:[(0,o.jsx)("span",{className:i.propTitle,children:"Name:"}),(0,o.jsx)("p",{children:a})]}),(0,o.jsxs)("div",{className:i.status,children:[(0,o.jsx)("div",{className:(0,n.A)(i.indicator,i[s])}),(0,o.jsx)("p",{children:s})]})]}),(0,o.jsxs)("div",{className:i.body,children:[(0,o.jsxs)("div",{className:i.propWrapper,children:[(0,o.jsx)("span",{className:i.propTitle,children:"Gender:"}),(0,o.jsx)("p",{children:t})]}),(0,o.jsxs)("div",{className:i.propWrapper,children:[(0,o.jsx)("span",{className:i.propTitle,children:"Location:"}),(0,o.jsx)("p",{children:l})]})]})]}),(0,o.jsxs)("div",{className:i.btnWrap,children:[(0,o.jsx)(_,{isInFavorite:p.isInfavorite,onTogleFavorite:p.onTogleFavorite}),(0,o.jsx)(w,{isOpen:g.isModalOpen,toggleModal:g.onToggleModal})]})]})}},7203:(e,a,s)=>{s.d(a,{$:()=>i,W:()=>r});const r={required:{value:!0,message:"this field is required *"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"invalid email address *"}},i={required:{value:!0,message:"this filed is required *"},minLength:{value:6,message:"min-lenght of password is 6 charecters *"}}},3613:(e,a,s)=>{s.d(a,{b:()=>j});var r=s(4858);const i="SignInForm_form__a6eBx",n="SignInForm_inputsWrap__CKy10",t="SignInForm_btnWrapp__V1e3m",o="SignInForm_redirect__-zjD+",l="SignInForm_loading__N6Iwc";var d=s(3339),c=s(5959),p=s(4071),_=s(873),g=s(9732),m=s(5475),h=s(650),u=s(7203),v=s(579);const j=e=>{let{toggleModal:a}=e;const{register:s,handleSubmit:j,setValue:x,formState:{errors:N}}=(0,r.mN)(),{registerUserWithEmailAndPassword:b,loading:C,error:w}=(0,g.N)(_.j2);return(0,v.jsxs)("form",{className:i,onSubmit:j((async e=>{await b(e.login,e.password),x("login",""),x("password",""),a&&a()})),children:[(0,v.jsx)(c.f,{}),(0,v.jsxs)("div",{className:n,children:[(0,v.jsx)(h.p,{labelName:"Email",errors:N.login,disabled:C,id:"email",placeholder:"Enter your email",register:s("login",u.W)}),(0,v.jsx)(h.p,{labelName:"Password",errors:N.password,disabled:C,id:"password",type:"password",placeholder:"Enter your password",register:s("password",u.$)})]}),(0,v.jsxs)("div",{className:t,children:[(0,v.jsx)(d.$,{className:C?l:"",variant:"Primary",fill:!0,type:"submit",children:" Sign In!"}),(0,v.jsx)(m.N_,{className:o,to:"/signup",children:"Does't have an accoun yet?"})]}),w&&(0,v.jsx)(p.b,{children:w.message})]})}},3367:(e,a,s)=>{s.d(a,{W:()=>o});var r=s(8387);const i="NothingYet_wrapper__aACNZ",n="NothingYet_visible__I5UrK";var t=s(579);const o=e=>{let{isLoading:a}=e;return(0,t.jsx)("div",{className:(0,r.A)(i,a?"":n),children:(0,t.jsx)("h2",{children:"There is nothing yet"})})}},4071:(e,a,s)=>{s.d(a,{b:()=>n});const r="ErrMessage_msg__wb0Tb";var i=s(579);const n=e=>{let{children:a}=e;return(0,i.jsx)("span",{className:r,children:a})}},650:(e,a,s)=>{s.d(a,{p:()=>o});var r=s(4071);const i="Input_input__xm9VQ",n="Input_inptWrap__Vx1sT";var t=s(579);const o=e=>(0,t.jsxs)("div",{className:n,children:[(0,t.jsx)("label",{htmlFor:"name",children:e.labelName}),(0,t.jsx)("input",{className:i,...e,...e.register}),e.errors&&(0,t.jsx)(r.b,{children:e.errors.message})]})},9732:(e,a,s)=>{s.d(a,{N:()=>t,z:()=>d});var r=s(3216),i=s(5043),n=s(1516);const t=e=>{const[a,s]=i.useState(),[t,o]=i.useState(!1),l=(0,r.Zp)(),{state:d}=(0,r.zy)();return{registerUserWithEmailAndPassword:i.useCallback((async(a,r)=>{o(!0),s(void 0),await(0,n.x9)(e,a,r).then((()=>{l(null!==d&&void 0!==d?d:"/")})).catch((e=>s(e))).finally((()=>o(!1)))}),[e,l,d]),loading:t,error:a}};var o=s(6032),l=s(873);const d=e=>{const[a,s]=(0,i.useState)(),[t,d]=(0,i.useState)(!1),c=(0,r.Zp)();return{registerUserWithEmailAndPassword:i.useCallback((async(a,r)=>{d(!0),s(void 0),await(0,n.eJ)(e,a,r).then((async e=>{await(0,o.BN)((0,o.H9)(l.OO,"users",e.user.uid),{name:"user",email:a,password:r,history:[],favorites:[]}),c(-1)})).catch((e=>s(e))).finally((()=>d(!1)))}),[e,c]),loading:t,error:a}}},4151:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var r=s(1807),i=s(7047);const n="FavoriteList_list__ZS+l5",t="FavoriteList_btn__P1VLi";var o=s(3216),l=s(2562),d=s(3339),c=s(579),p=s(5043);const _=e=>{let{ids:a,toggleClear:s}=e;const{data:_,isLoading:g,isError:m}=(0,r.mk)(a),h=!g&&_;return m?(0,c.jsx)(o.C5,{to:"/error"}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.R,{isLoading:g}),(0,c.jsx)("ul",{className:n,children:h&&_.map(((e,a)=>(0,p.createElement)(i.Z,{...e,key:a})))}),(0,c.jsx)(d.$,{onAction:s,variant:"Clear",className:t,children:"Clear favorite"})]})};var g=s(3367),m=s(7461),h=s(7043),u=s(7359),v=s(145);const j=()=>{const e=(0,h.GV)(m.jH),a=(0,h.GV)(m.lp),s=(0,h.GV)(m.lo),r=(0,h.jL)();return{data:e,isLoading:a,toggleClearFavorite:(0,p.useCallback)((()=>{s&&(r((0,u.Eo)(s)),(0,v.Co)())}),[s,r])}};const x=()=>{const{data:e,isLoading:a,toggleClearFavorite:s}=j();return(0,c.jsxs)("section",{className:"section",children:[(0,c.jsx)(l.R,{isLoading:a}),e.length?(0,c.jsx)(_,{toggleClear:s,ids:(r=e,r.join(","))}):(0,c.jsx)(g.W,{isLoading:a})]});var r}}}]);
//# sourceMappingURL=151.8e2b6d07.chunk.js.map