{"version":3,"file":"static/js/210.354f2682.chunk.js","mappings":"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","sources":["shared/components/Form/Options/index.ts","webpack://aston-app/./src/shared/components/UI/ErrMessage/ErrMessage.module.scss?4d8b","shared/components/UI/ErrMessage/ErrMessage.tsx","webpack://aston-app/./src/shared/components/UI/Input/Input.module.scss?942a","shared/components/UI/Input/Input.tsx","shared/firebase/hooks/useSIgnIn.tsx","shared/firebase/hooks/useSIgnUp.tsx","webpack://aston-app/./src/shared/components/Form/SignUpForm/SignUpForm.module.scss?932a","shared/components/Form/SignUpForm/SignUpForm.tsx","shared/pages/signup/SignUpPage.tsx"],"sourcesContent":["import { RegisterOptions } from \"react-hook-form\";\r\nimport { FormFieldValues } from \"../SignUpForm/SignUpForm\";\r\n\r\nexport const EMAIL_OPTIONS: RegisterOptions<FormFieldValues, \"login\"> = {\r\n  required: { value: true, message: \"this field is required *\" },\r\n  pattern: {\r\n    value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n    message: \"invalid email address *\",\r\n  },\r\n};\r\n\r\nexport const PASSWORD_OPTIONS: RegisterOptions<FormFieldValues, \"password\"> = {\r\n  required: { value: true, message: \"this filed is required *\" },\r\n  minLength: {\r\n    value: 6,\r\n    message: \"min-lenght of password is 6 charecters *\",\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"msg\":\"ErrMessage_msg__wb0Tb\"};","import styles from \"./ErrMessage.module.scss\";\r\ninterface IErrMessageProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const ErrMessage = ({ children }: IErrMessageProps) => {\r\n  return <span className={styles.msg}>{children}</span>;\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Input_input__xm9VQ\",\"inptWrap\":\"Input_inptWrap__Vx1sT\"};","import { FieldError, UseFormRegisterReturn } from \"react-hook-form\";\r\nimport { ErrMessage } from \"../ErrMessage/ErrMessage\";\r\nimport styles from \"./Input.module.scss\";\r\n\r\ninterface InputProps {\r\n  disabled: boolean;\r\n  labelName: string;\r\n  id: string;\r\n  placeholder: string;\r\n  register: UseFormRegisterReturn<\"login\" | \"password\">;\r\n  errors: FieldError | undefined;\r\n  type?: React.HTMLInputTypeAttribute;\r\n}\r\n\r\nexport const Input: React.FC<InputProps> = (props) => {\r\n  return (\r\n    <div className={styles.inptWrap}>\r\n      <label htmlFor=\"name\">{props.labelName}</label>\r\n      <input className={styles.input} {...props} {...props.register} />\r\n      {props.errors && <ErrMessage>{props.errors.message}</ErrMessage>}\r\n    </div>\r\n  );\r\n};\r\n","import { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\nimport React from \"react\";\r\nimport { Auth, AuthError, signInWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nexport const useSigneIn = (auth: Auth) => {\r\n  const [error, setError] = React.useState<AuthError>();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const navigate = useNavigate();\r\n  const { state } = useLocation();\r\n\r\n  const registerUserWithEmailAndPassword = React.useCallback(\r\n    async (email: string, password: string) => {\r\n      setLoading(true);\r\n      setError(undefined);\r\n      await signInWithEmailAndPassword(auth, email, password)\r\n        .then(() => {\r\n          navigate(state ?? \"/\");\r\n        })\r\n        .catch((err) => setError(err as AuthError))\r\n        .finally(() => setLoading(false));\r\n    },\r\n    [auth, navigate, state]\r\n  );\r\n\r\n  return { registerUserWithEmailAndPassword, loading, error };\r\n};\r\n","import { useNavigate } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport { Auth, createUserWithEmailAndPassword, AuthError } from \"firebase/auth\";\r\nimport { useState } from \"react\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\nimport { database } from \"../firebase\";\r\n\r\nexport const useSigneUp = (auth: Auth) => {\r\n  const [error, setError] = useState<AuthError>();\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const registerUserWithEmailAndPassword = React.useCallback(\r\n    async (email: string, password: string) => {\r\n      setLoading(true);\r\n      setError(undefined);\r\n      await createUserWithEmailAndPassword(auth, email, password)\r\n        .then(async (user) => {\r\n          await setDoc(doc(database, \"users\", user.user.uid), {\r\n            name: \"user\",\r\n            email: email,\r\n            password: password,\r\n            history: [],\r\n            favorites: [],\r\n          });\r\n          navigate(-1);\r\n        })\r\n        .catch((err) => setError(err as AuthError))\r\n        .finally(() => setLoading(false));\r\n    },\r\n    [auth, navigate]\r\n  );\r\n\r\n  return { registerUserWithEmailAndPassword, loading, error };\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SignUpForm_form__t1zVh\",\"anim\":\"SignUpForm_anim__G3dnf\",\"inputsWrap\":\"SignUpForm_inputsWrap__bj21x\",\"btnWrapp\":\"SignUpForm_btnWrapp__LURZb\",\"redirect\":\"SignUpForm_redirect__SB3ke\",\"loading\":\"SignUpForm_loading__NEJ0R\"};","import { SubmitHandler, useForm } from \"react-hook-form\";\r\nimport styles from \"./SignUpForm.module.scss\";\r\nimport { Button } from \"../../UI/Button/Button\";\r\nimport { LogoIcon } from \"../../../icons/LogoIcon\";\r\nimport { ErrMessage } from \"../../UI/ErrMessage/ErrMessage\";\r\nimport { auth } from \"../../../firebase/firebase\";\r\nimport { useSigneUp } from \"../../../firebase/hooks\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Input } from \"../../UI/Input/Input\";\r\nimport { EMAIL_OPTIONS, PASSWORD_OPTIONS } from \"../Options\";\r\n\r\nexport interface FormFieldValues {\r\n  login: string;\r\n  password: string;\r\n}\r\n\r\nexport const SignUpForm = () => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useForm<FormFieldValues>();\r\n\r\n  const { registerUserWithEmailAndPassword, loading, error } = useSigneUp(auth);\r\n\r\n  const onSubmit: SubmitHandler<FormFieldValues> = async (data) => {\r\n    await registerUserWithEmailAndPassword(data.login, data.password);\r\n    setValue(\"login\", \"\");\r\n    setValue(\"password\", \"\");\r\n  };\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={handleSubmit(onSubmit)}>\r\n      <LogoIcon />\r\n      <div className={styles.inputsWrap}>\r\n        <Input\r\n          labelName=\"Email\"\r\n          errors={errors.login}\r\n          disabled={loading}\r\n          id=\"email\"\r\n          placeholder=\"Enter your email\"\r\n          register={register(\"login\", EMAIL_OPTIONS)}\r\n        />\r\n        <Input\r\n          labelName=\"Password\"\r\n          errors={errors.password}\r\n          disabled={loading}\r\n          id=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Enter your password\"\r\n          register={register(\"password\", PASSWORD_OPTIONS)}\r\n        />\r\n      </div>\r\n      <div className={styles.btnWrapp}>\r\n        <Button\r\n          className={loading ? styles.loading : \"\"}\r\n          variant=\"Primary\"\r\n          fill\r\n          type=\"submit\"\r\n        >\r\n          {\" Sign Up!\"}\r\n        </Button>\r\n        <Link className={styles.redirect} to={\"/signin\"}>\r\n          Already have account?\r\n        </Link>\r\n      </div>\r\n      {error && <ErrMessage>{error.message}</ErrMessage>}\r\n    </form>\r\n  );\r\n};\r\n","import { SignUpForm } from \"../../components/Form/SignUpForm/SignUpForm\";\r\n\r\nconst SignUpPage = () => {\r\n  return (\r\n    <section>\r\n      <SignUpForm />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default SignUpPage;\r\n"],"names":["EMAIL_OPTIONS","required","value","message","pattern","PASSWORD_OPTIONS","minLength","ErrMessage","_ref","children","_jsx","className","styles","Input","props","_jsxs","htmlFor","labelName","register","errors","useSigneIn","auth","error","setError","React","loading","setLoading","navigate","useNavigate","state","useLocation","registerUserWithEmailAndPassword","async","email","password","undefined","signInWithEmailAndPassword","then","catch","err","finally","useSigneUp","useState","createUserWithEmailAndPassword","setDoc","doc","database","user","uid","name","history","favorites","SignUpForm","handleSubmit","setValue","formState","useForm","onSubmit","data","login","LogoIcon","disabled","id","placeholder","type","Button","variant","fill","Link","to","SignUpPage"],"sourceRoot":""}